cmake_minimum_required(VERSION 3.5)
project(RAY_MESH_INTERSECTION)

set(CXX_MSVC_FLAGS "/std:c++17 /O2")
set(CXX_GNU_FLAGS "-Wall -Wextra -pedantic -O2 -std=c++17")

if (CMAKE_COMPILER_IS_GNUCXX)
    set(CMAKE_CXX_FLAGS ${CXX_GNU_FLAGS})
elseif (CMAKE_CXX_COMPILER_ID STREQUAL "Clang")
    if (CMAKE_CXX_COMPILER_FRONTEND_VARIANT STREQUAL "MSVC")
        set(CMAKE_CXX_FLAGS ${CXX_MSVC_FLAGS})
    elseif (CMAKE_CXX_COMPILER_FRONTEND_VARIANT STREQUAL "GNU")
        set(CMAKE_CXX_FLAGS ${CXX_GNU_FLAGS})
    endif()
elseif(CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
    set(CMAKE_CXX_FLAGS ${CXX_MSVC_FLAGS})
endif()


include_directories(external/)
add_subdirectory(src/)
if (BUILD_TESTS)
    message(STATUS "Include tests")
    enable_testing()
    add_subdirectory(test)
endif()
if (BUILD_QT_APP)
    message(STATUS "Include QT desktop application")
    add_subdirectory(app)
endif()
if (BUILD_WASM)
    message(STATUS "Include WASM")
    add_subdirectory(web)
endif()
